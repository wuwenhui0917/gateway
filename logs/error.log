2020/07/28 18:39:22 [notice] 2169#0: signal process started
2020/07/28 18:39:22 [info] 2175#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:39:22 [info] 2174#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:39:22 [info] 2176#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:39:22 [info] 2177#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:39:23 [info] 2174#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:39:23 [info] 2174#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:39:23 [info] 2174#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:39:23 [info] 2174#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:39:23 [info] 2174#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:39:23 [info] 2174#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:39:23 [info] 2174#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:39:23 [info] 2174#0: *5 [lua] redis_dao.lua:573: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:569: in function '__concat'
	./gateway/store/redis_store.lua:230: in function 'getHashByKeyTag'
	./gateway/store/redis_dao.lua:403: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:560: in function <./gateway/store/redis_dao.lua:540>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:540: in function 'load_data_by_redis'
	./gateway/gateway.lua:129: in function <./gateway/gateway.lua:125>, context: ngx.timer
2020/07/28 18:39:23 [info] 2174#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:39:23 [info] 2174#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:39:23 [info] 2174#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:39:23 [info] 2174#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:39:23 [info] 2174#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 18:40:11 [notice] 2200#0: signal process started
2020/07/28 18:40:11 [info] 2210#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:40:11 [info] 2208#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:40:11 [info] 2207#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:40:11 [info] 2209#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:40:12 [info] 2207#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:40:12 [info] 2207#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:40:12 [info] 2207#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:40:12 [info] 2207#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:40:12 [info] 2207#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:40:12 [info] 2207#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:40:12 [info] 2207#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:40:12 [info] 2207#0: *5 [lua] redis_store.lua:230: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 18:40:12 [info] 2207#0: *5 [lua] redis_dao.lua:573: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:569: in function '__concat'
	./gateway/store/redis_store.lua:243: in function 'getHashByKeyTag'
	./gateway/store/redis_dao.lua:403: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:560: in function <./gateway/store/redis_dao.lua:540>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:540: in function 'load_data_by_redis'
	./gateway/gateway.lua:129: in function <./gateway/gateway.lua:125>, context: ngx.timer
2020/07/28 18:40:12 [info] 2207#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:40:12 [info] 2207#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:40:12 [info] 2207#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:40:12 [info] 2207#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:40:12 [info] 2207#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 18:40:29 [notice] 2220#0: signal process started
2020/07/28 18:40:29 [info] 2225#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:40:29 [info] 2226#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:40:29 [info] 2228#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:40:29 [info] 2227#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:40:30 [info] 2225#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:40:30 [info] 2225#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:40:30 [info] 2225#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:40:30 [info] 2225#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:40:30 [info] 2225#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:40:30 [info] 2225#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:40:30 [info] 2225#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:40:30 [info] 2225#0: *5 [lua] redis_store.lua:230: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 18:40:30 [info] 2225#0: *5 [lua] redis_dao.lua:573: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:569: in function '__concat'
	./gateway/store/redis_store.lua:243: in function 'getHashByKeyTag'
	./gateway/store/redis_dao.lua:403: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:560: in function <./gateway/store/redis_dao.lua:540>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:540: in function 'load_data_by_redis'
	./gateway/gateway.lua:129: in function <./gateway/gateway.lua:125>, context: ngx.timer
2020/07/28 18:40:30 [info] 2225#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:40:30 [info] 2225#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:40:30 [info] 2225#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:40:30 [info] 2225#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:40:30 [info] 2225#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 18:41:07 [notice] 2251#0: signal process started
2020/07/28 18:41:07 [info] 2257#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:41:07 [info] 2260#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:41:07 [info] 2258#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:41:07 [info] 2259#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:41:08 [info] 2257#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:41:08 [info] 2257#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:41:08 [info] 2257#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:41:08 [info] 2257#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:41:08 [info] 2257#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:41:08 [info] 2257#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:41:08 [info] 2257#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:41:08 [info] 2257#0: *5 [lua] redis_store.lua:230: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 18:41:08 [info] 2257#0: *5 [lua] redis_dao.lua:573: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:569: in function '__concat'
	./gateway/store/redis_store.lua:243: in function 'getHashByKeyTag'
	./gateway/store/redis_dao.lua:403: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:560: in function <./gateway/store/redis_dao.lua:540>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:540: in function 'load_data_by_redis'
	./gateway/gateway.lua:129: in function <./gateway/gateway.lua:125>, context: ngx.timer
2020/07/28 18:41:08 [info] 2257#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:41:08 [info] 2257#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:41:08 [info] 2257#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:41:08 [info] 2257#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:41:08 [info] 2257#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 18:42:06 [notice] 2277#0: signal process started
2020/07/28 18:42:07 [info] 2282#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:42:07 [info] 2283#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:42:07 [info] 2285#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:42:07 [info] 2284#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:42:08 [info] 2282#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:42:08 [info] 2282#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:42:08 [info] 2282#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:42:08 [info] 2282#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:42:08 [info] 2282#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:42:08 [info] 2282#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:42:08 [info] 2282#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:42:08 [info] 2282#0: *5 [lua] redis_store.lua:230: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 18:42:08 [info] 2282#0: *5 [lua] redis_dao.lua:573: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:569: in function '__concat'
	./gateway/store/redis_store.lua:243: in function 'getHashByKeyTag'
	./gateway/store/redis_dao.lua:403: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:560: in function <./gateway/store/redis_dao.lua:540>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:540: in function 'load_data_by_redis'
	./gateway/gateway.lua:129: in function <./gateway/gateway.lua:125>, context: ngx.timer
2020/07/28 18:42:08 [info] 2282#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:42:08 [info] 2282#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:42:08 [info] 2282#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:42:08 [info] 2282#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:42:08 [info] 2282#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 18:42:15 [notice] 2291#0: signal process started
2020/07/28 18:42:15 [info] 2296#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:42:15 [info] 2298#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:42:15 [info] 2299#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:42:15 [info] 2297#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:42:16 [info] 2296#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:42:16 [info] 2296#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:42:16 [info] 2296#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:42:16 [info] 2296#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:42:16 [info] 2296#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:42:16 [info] 2296#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:42:16 [info] 2296#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:42:16 [info] 2296#0: *5 [lua] redis_store.lua:230: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 18:42:16 [info] 2296#0: *5 [lua] redis_dao.lua:573: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:569: in function '__concat'
	./gateway/store/redis_store.lua:243: in function 'getHashByKeyTag'
	./gateway/store/redis_dao.lua:403: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:560: in function <./gateway/store/redis_dao.lua:540>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:540: in function 'load_data_by_redis'
	./gateway/gateway.lua:129: in function <./gateway/gateway.lua:125>, context: ngx.timer
2020/07/28 18:42:16 [info] 2296#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:42:16 [info] 2296#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:42:16 [info] 2296#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:42:16 [info] 2296#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:42:16 [info] 2296#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 18:43:21 [notice] 2356#0: signal process started
2020/07/28 18:43:21 [info] 2361#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:43:21 [info] 2364#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:43:21 [info] 2363#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:43:21 [info] 2362#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:43:22 [info] 2361#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:43:22 [info] 2361#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:43:22 [info] 2361#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:43:22 [info] 2361#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:43:22 [info] 2361#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:43:22 [info] 2361#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:43:22 [info] 2361#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:43:22 [info] 2361#0: *5 [lua] redis_store.lua:230: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 18:43:22 [info] 2361#0: *5 [lua] redis_dao.lua:573: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:569: in function '__concat'
	./gateway/store/redis_store.lua:243: in function 'getHashByKeyTag'
	./gateway/store/redis_dao.lua:403: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:560: in function <./gateway/store/redis_dao.lua:540>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:540: in function 'load_data_by_redis'
	./gateway/gateway.lua:129: in function <./gateway/gateway.lua:125>, context: ngx.timer
2020/07/28 18:43:22 [info] 2361#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:43:22 [info] 2361#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:43:22 [info] 2361#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:43:22 [info] 2361#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:43:22 [info] 2361#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 18:43:58 [notice] 2377#0: signal process started
2020/07/28 18:43:58 [info] 2382#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:43:58 [info] 2385#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:43:58 [info] 2383#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:43:58 [info] 2384#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:43:59 [info] 2382#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:43:59 [info] 2382#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:43:59 [info] 2382#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:43:59 [info] 2382#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:43:59 [info] 2382#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:43:59 [info] 2382#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:43:59 [info] 2382#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:43:59 [info] 2382#0: *5 [lua] redis_store.lua:230: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 18:43:59 [info] 2382#0: *5 [lua] redis_store.lua:243: getHashByKeyTag(): nil, context: ngx.timer
2020/07/28 18:43:59 [info] 2382#0: *5 [lua] redis_dao.lua:565: load data of plugin[monitor] success, context: ngx.timer
2020/07/28 18:43:59 [info] 2382#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:43:59 [info] 2382#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:43:59 [info] 2382#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:43:59 [info] 2382#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:43:59 [info] 2382#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 18:44:59 [notice] 2411#0: signal process started
2020/07/28 18:44:59 [info] 2416#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:44:59 [info] 2419#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:44:59 [info] 2418#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:44:59 [info] 2417#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:45:00 [info] 2416#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:45:00 [info] 2416#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:45:00 [info] 2416#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:45:00 [info] 2416#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:45:00 [info] 2416#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:45:00 [info] 2416#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:45:00 [info] 2416#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:45:00 [info] 2416#0: *5 [lua] redis_store.lua:230: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 18:45:00 [info] 2416#0: *5 [lua] redis_store.lua:243: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:45:00 [info] 2416#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): nil, context: ngx.timer
2020/07/28 18:45:00 [info] 2416#0: *5 [lua] redis_dao.lua:565: load data of plugin[monitor] success, context: ngx.timer
2020/07/28 18:45:00 [info] 2416#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:45:00 [info] 2416#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:45:00 [info] 2416#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:45:00 [info] 2416#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:45:00 [info] 2416#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 18:45:08 [notice] 2426#0: signal process started
2020/07/28 18:45:08 [info] 2431#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:45:08 [info] 2433#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:45:08 [info] 2434#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:45:08 [info] 2432#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:45:09 [info] 2431#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:45:09 [info] 2431#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:45:09 [info] 2431#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:45:09 [info] 2431#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:45:09 [info] 2431#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:45:09 [info] 2431#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:45:09 [info] 2431#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:45:09 [info] 2431#0: *5 [lua] redis_store.lua:230: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 18:45:09 [info] 2431#0: *5 [lua] redis_store.lua:243: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:45:09 [info] 2431#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): nil, context: ngx.timer
2020/07/28 18:45:09 [info] 2431#0: *5 [lua] redis_dao.lua:565: load data of plugin[monitor] success, context: ngx.timer
2020/07/28 18:45:09 [info] 2431#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:45:09 [info] 2431#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:45:09 [info] 2431#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:45:09 [info] 2431#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:45:09 [info] 2431#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 18:47:45 [notice] 2472#0: signal process started
2020/07/28 18:47:45 [info] 2482#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:47:45 [info] 2481#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:47:45 [info] 2480#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:47:45 [info] 2478#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:47:46 [info] 2478#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:47:46 [info] 2478#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:47:46 [info] 2478#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:47:46 [info] 2478#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:47:46 [info] 2478#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:47:46 [info] 2478#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:47:46 [info] 2478#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:47:46 [info] 2478#0: *5 [lua] redis_store.lua:231: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 18:47:46 [info] 2478#0: *5 [lua] redis_store.lua:207: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:47:46 [info] 2478#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:47:46 [info] 2478#0: *5 [lua] redis_store.lua:245: getHashByKeyTag(): nil, context: ngx.timer
2020/07/28 18:47:46 [info] 2478#0: *5 [lua] redis_dao.lua:565: load data of plugin[monitor] success, context: ngx.timer
2020/07/28 18:47:46 [info] 2478#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:47:46 [info] 2478#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:47:46 [info] 2478#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:47:46 [info] 2478#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:47:46 [info] 2478#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 18:51:35 [notice] 2539#0: signal process started
2020/07/28 18:51:35 [info] 2544#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:51:35 [info] 2547#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:51:35 [info] 2546#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:51:35 [info] 2545#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_store.lua:236: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_store.lua:207: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_store.lua:215: getHashInfo(): ---------------------------getHashInfo------------------------ errormonitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_store.lua:249: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_store.lua:250: getHashByKeyTag(): nil, context: ngx.timer
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_dao.lua:565: load data of plugin[monitor] success, context: ngx.timer
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:51:36 [info] 2544#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 18:53:36 [notice] 2580#0: signal process started
2020/07/28 18:53:36 [info] 2586#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:53:36 [info] 2589#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:53:36 [info] 2587#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:53:36 [info] 2588#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_store.lua:237: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_store.lua:207: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_store.lua:216: getHashInfo(): ---------------------------getHashInfo------------------------ errormonitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_store.lua:250: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_store.lua:251: getHashByKeyTag(): nil, context: ngx.timer
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_dao.lua:565: load data of plugin[monitor] success, context: ngx.timer
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:53:37 [info] 2586#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 18:54:47 [notice] 2616#0: signal process started
2020/07/28 18:54:47 [info] 2624#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:54:47 [info] 2622#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:54:47 [info] 2621#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:54:47 [info] 2623#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_store.lua:238: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_store.lua:207: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_store.lua:217: getHashInfo(): ---------------------------getHashInfo------------------------ errormonitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_store.lua:251: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): nil, context: ngx.timer
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_dao.lua:565: load data of plugin[monitor] success, context: ngx.timer
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:54:48 [info] 2621#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 18:55:51 [notice] 2652#0: signal process started
2020/07/28 18:55:52 [info] 2658#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:55:52 [info] 2660#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:55:52 [info] 2657#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:55:52 [info] 2659#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_store.lua:241: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_store.lua:207: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_store.lua:217: getHashInfo(): ---------------------------redis------------------------ error, context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_store.lua:220: getHashInfo(): ---------------------------getHashInfo------------------------ errormonitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_store.lua:254: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_store.lua:255: getHashByKeyTag(): nil, context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_dao.lua:565: load data of plugin[monitor] success, context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:55:53 [info] 2657#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 18:56:55 [notice] 2705#0: signal process started
2020/07/28 18:56:55 [info] 2711#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:56:55 [info] 2713#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:56:55 [info] 2712#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:56:55 [info] 2710#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:56:56 [info] 2710#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:56:56 [info] 2710#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:56:56 [info] 2710#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:56:56 [info] 2710#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:56:56 [info] 2710#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:56:56 [info] 2710#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:56:56 [info] 2710#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:56:56 [info] 2710#0: *5 [lua] redis_store.lua:241: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 18:56:56 [info] 2710#0: *5 [lua] redis_store.lua:254: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:56:56 [info] 2710#0: *5 [lua] redis_store.lua:255: getHashByKeyTag(): nil, context: ngx.timer
2020/07/28 18:56:56 [info] 2710#0: *5 [lua] redis_dao.lua:565: load data of plugin[monitor] success, context: ngx.timer
2020/07/28 18:56:56 [info] 2710#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:56:56 [info] 2710#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:56:56 [info] 2710#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:56:56 [info] 2710#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:56:56 [info] 2710#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 18:58:54 [notice] 2746#0: signal process started
2020/07/28 18:58:54 [info] 2752#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:58:54 [info] 2751#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:58:54 [info] 2753#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:58:54 [info] 2754#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:58:55 [info] 2751#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:58:55 [info] 2751#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:58:55 [info] 2751#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:58:55 [info] 2751#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:58:55 [info] 2751#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:58:55 [info] 2751#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:58:55 [info] 2751#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:58:55 [info] 2751#0: *5 [lua] redis_store.lua:241: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 18:58:55 [info] 2751#0: *5 [lua] redis_store.lua:254: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:58:55 [info] 2751#0: *5 [lua] redis_store.lua:255: getHashByKeyTag(): nil, context: ngx.timer
2020/07/28 18:58:55 [info] 2751#0: *5 [lua] redis_dao.lua:565: load data of plugin[monitor] success, context: ngx.timer
2020/07/28 18:58:55 [info] 2751#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:58:55 [info] 2751#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:58:55 [info] 2751#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:58:55 [info] 2751#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:58:55 [info] 2751#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 18:59:40 [notice] 2773#0: signal process started
2020/07/28 18:59:40 [info] 2779#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:59:40 [info] 2778#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:59:40 [info] 2782#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:59:40 [info] 2783#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 18:59:41 [info] 2778#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 18:59:41 [info] 2778#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:59:41 [info] 2778#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:59:41 [info] 2778#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 18:59:41 [info] 2778#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 18:59:41 [info] 2778#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 18:59:41 [info] 2778#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 18:59:41 [info] 2778#0: *5 [lua] redis_store.lua:241: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 18:59:41 [info] 2778#0: *5 [lua] redis_store.lua:207: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 18:59:41 [info] 2778#0: *5 [lua] redis_store.lua:210: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/28 18:59:41 [info] 2778#0: *5 [lua] redis_dao.lua:573: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:569: in function '__concat'
	./gateway/store/redis_store.lua:213: in function 'getHashInfo'
	./gateway/store/redis_store.lua:253: in function 'getHashByKeyTag'
	./gateway/store/redis_dao.lua:403: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:560: in function <./gateway/store/redis_dao.lua:540>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:540: in function 'load_data_by_redis'
	./gateway/gateway.lua:129: in function <./gateway/gateway.lua:125>, context: ngx.timer
2020/07/28 18:59:41 [info] 2778#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 18:59:41 [info] 2778#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 18:59:41 [info] 2778#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 18:59:41 [info] 2778#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 18:59:41 [info] 2778#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 19:01:35 [notice] 2820#0: signal process started
2020/07/28 19:01:36 [info] 2829#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 19:01:36 [info] 2832#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 19:01:36 [info] 2831#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 19:01:36 [info] 2830#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_store.lua:241: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_store.lua:207: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_store.lua:210: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_store.lua:213: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_store.lua:254: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_store.lua:255: getHashByKeyTag(): {"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_dao.lua:565: load data of plugin[monitor] success, context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 19:01:37 [info] 2829#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/28 19:03:14 [notice] 2858#0: signal process started
2020/07/28 19:15:51 [error] 3477#0: [lua] gateway.lua:66: /home/wuwenhui/software/gateway//conf/gateway.conf
2020/07/28 19:15:51 [error] 3477#0: [lua] gateway.lua:86: init(): Startup error: error loading module 'gateway.store.redis_store' from file './gateway/store/redis_store.lua':
	./gateway/store/redis_store.lua:267: 'end' expected (to close 'function' at line 203) near '<eof>'
2020/07/28 19:16:49 [error] 3508#0: [lua] gateway.lua:66: /home/wuwenhui/software/gateway//conf/gateway.conf
2020/07/28 19:16:49 [error] 3513#0: *1 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 19:16:49 [error] 3514#0: *2 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 19:16:49 [error] 3517#0: *3 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 19:16:49 [error] 3515#0: *4 [lua] gateway.lua:100: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale0, context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_store.lua:241: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_store.lua:207: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_store.lua:210: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_store.lua:213: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_store.lua:254: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_store.lua:255: getHashByKeyTag(): {"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_dao.lua:565: load data of plugin[monitor] success, context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale0, context: ngx.timer
2020/07/28 19:16:50 [info] 3513#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:21:30 [notice] 12657#0: signal process started
2020/07/30 10:21:31 [error] 12663#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:21:31 [error] 12665#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:21:31 [error] 12664#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:21:31 [error] 12662#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale1, context: ngx.timer
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_store.lua:242: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_store.lua:255: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_store.lua:256: getHashByKeyTag(): {"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_dao.lua:565: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:21:32 [info] 12662#0: *5 [lua] redis_dao.lua:573: load_data_by_redis(): [load plugin's data error], plugin:kvstore error:stack traceback:
	./gateway/store/redis_dao.lua:569: in function '__concat'
	./gateway/store/redis_dao.lua:343: in function 'init_enable_of_plugin'
	./gateway/store/redis_dao.lua:550: in function <./gateway/store/redis_dao.lua:540>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:540: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 10:25:30 [notice] 12702#0: signal process started
2020/07/30 10:25:30 [error] 12711#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:25:30 [error] 12708#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:25:30 [error] 12709#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:25:30 [error] 12710#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_store.lua:242: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_store.lua:255: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_store.lua:256: getHashByKeyTag(): {"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_dao.lua:565: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:25:31 [info] 12708#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:26:11 [notice] 12720#0: signal process started
2020/07/30 10:26:11 [error] 12726#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:26:11 [error] 12728#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:26:11 [error] 12727#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:26:11 [error] 12725#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_dao.lua:391: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_store.lua:242: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_store.lua:255: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_store.lua:256: getHashByKeyTag(): {"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_dao.lua:565: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:26:12 [info] 12725#0: *5 [lua] redis_dao.lua:555: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:28:29 [notice] 12794#0: signal process started
2020/07/30 10:28:30 [error] 12800#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:28:30 [error] 12799#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:28:30 [error] 12802#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:28:30 [error] 12801#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:28:31 [info] 12799#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:28:31 [info] 12799#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:28:31 [info] 12799#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:28:31 [info] 12799#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:28:31 [info] 12799#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:28:31 [info] 12799#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:28:31 [info] 12799#0: *5 [lua] redis_dao.lua:576: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:572: in function '__concat'
	./gateway/store/redis_dao.lua:383: in function 'init_meta_of_plugin'
	./gateway/store/redis_dao.lua:562: in function <./gateway/store/redis_dao.lua:543>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:543: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 10:28:31 [info] 12799#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:28:31 [info] 12799#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:28:31 [info] 12799#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:28:31 [info] 12799#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:28:31 [info] 12799#0: *5 [lua] redis_dao.lua:558: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:29:17 [notice] 12827#0: signal process started
2020/07/30 10:29:17 [error] 12834#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:29:17 [error] 12837#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:29:17 [error] 12836#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:29:17 [error] 12835#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:29:18 [info] 12834#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:29:18 [info] 12834#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:29:18 [info] 12834#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:29:18 [info] 12834#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:29:18 [info] 12834#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:29:18 [info] 12834#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:29:18 [info] 12834#0: *5 [lua] redis_dao.lua:576: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:572: in function '__concat'
	./gateway/store/redis_dao.lua:383: in function 'init_meta_of_plugin'
	./gateway/store/redis_dao.lua:562: in function <./gateway/store/redis_dao.lua:543>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:543: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 10:29:18 [info] 12834#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:29:18 [info] 12834#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:29:18 [info] 12834#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:29:18 [info] 12834#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:29:18 [info] 12834#0: *5 [lua] redis_dao.lua:558: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:30:09 [notice] 12869#0: signal process started
2020/07/30 10:30:09 [error] 12874#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:30:09 [error] 12877#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:30:09 [error] 12875#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:30:09 [error] 12876#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta nil, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_dao.lua:393: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_store.lua:242: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_store.lua:255: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_store.lua:256: getHashByKeyTag(): {"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_dao.lua:567: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:30:10 [info] 12874#0: *5 [lua] redis_dao.lua:557: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:33:34 [notice] 12910#0: signal process started
2020/07/30 10:33:34 [error] 12918#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:33:34 [error] 12916#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:33:34 [error] 12915#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:33:34 [error] 12917#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:33:35 [info] 12915#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:33:35 [info] 12915#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:33:35 [info] 12915#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:33:35 [info] 12915#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:33:35 [info] 12915#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:33:35 [info] 12915#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:33:35 [info] 12915#0: *5 [lua] redis_dao.lua:575: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:571: in function '__concat'
	./gateway/store/redis_dao.lua:383: in function 'init_meta_of_plugin'
	./gateway/store/redis_dao.lua:561: in function <./gateway/store/redis_dao.lua:542>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:542: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 10:33:35 [info] 12915#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:33:35 [info] 12915#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:33:35 [info] 12915#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:33:35 [info] 12915#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:33:35 [info] 12915#0: *5 [lua] redis_dao.lua:557: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:33:58 [notice] 12935#0: signal process started
2020/07/30 10:33:58 [error] 12940#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:33:58 [error] 12941#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:33:58 [error] 12942#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:33:58 [error] 12943#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:33:59 [info] 12940#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:33:59 [info] 12940#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:33:59 [info] 12940#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:33:59 [info] 12940#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:33:59 [info] 12940#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:33:59 [info] 12940#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:33:59 [info] 12940#0: *5 [lua] redis_dao.lua:575: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:571: in function '__concat'
	./gateway/store/redis_dao.lua:383: in function 'init_meta_of_plugin'
	./gateway/store/redis_dao.lua:561: in function <./gateway/store/redis_dao.lua:542>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:542: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 10:33:59 [info] 12940#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:33:59 [info] 12940#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:33:59 [info] 12940#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:33:59 [info] 12940#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:33:59 [info] 12940#0: *5 [lua] redis_dao.lua:557: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:32:23 [notice] 12963#0: signal process started
2020/07/30 10:32:24 [error] 12969#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:32:24 [error] 12970#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:32:24 [error] 12968#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:32:24 [error] 12971#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:32:25 [info] 12968#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:32:25 [info] 12968#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:32:25 [info] 12968#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:32:25 [info] 12968#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:32:25 [info] 12968#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:32:25 [info] 12968#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:32:25 [info] 12968#0: *5 [lua] redis_dao.lua:575: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:571: in function '__concat'
	./gateway/store/redis_dao.lua:383: in function 'init_meta_of_plugin'
	./gateway/store/redis_dao.lua:561: in function <./gateway/store/redis_dao.lua:542>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:542: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 10:32:25 [info] 12968#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:32:25 [info] 12968#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:32:25 [info] 12968#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:32:25 [info] 12968#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:32:25 [info] 12968#0: *5 [lua] redis_dao.lua:557: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:32:42 [notice] 12980#0: signal process started
2020/07/30 10:32:42 [error] 12988#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:32:42 [error] 12987#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:32:42 [error] 12985#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:32:42 [error] 12986#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta  type is nil, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_dao.lua:393: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_store.lua:242: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_store.lua:255: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_store.lua:256: getHashByKeyTag(): {"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_dao.lua:567: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:32:43 [info] 12985#0: *5 [lua] redis_dao.lua:557: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:33:51 [notice] 13008#0: signal process started
2020/07/30 10:33:51 [error] 13013#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:33:51 [error] 13016#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:33:51 [error] 13015#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:33:51 [error] 13014#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:33:52 [info] 13013#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:33:52 [info] 13013#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:33:52 [info] 13013#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:33:52 [info] 13013#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:33:52 [info] 13013#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:33:52 [info] 13013#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:33:52 [info] 13013#0: *5 [lua] redis_dao.lua:575: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:571: in function '__concat'
	./gateway/store/redis_dao.lua:383: in function 'init_meta_of_plugin'
	./gateway/store/redis_dao.lua:561: in function <./gateway/store/redis_dao.lua:542>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:542: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 10:33:52 [info] 13013#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:33:52 [info] 13013#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:33:52 [info] 13013#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:33:52 [info] 13013#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:33:52 [info] 13013#0: *5 [lua] redis_dao.lua:557: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:37:12 [notice] 13034#0: signal process started
2020/07/30 10:37:12 [error] 13040#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:37:12 [error] 13041#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:37:12 [error] 13039#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:37:12 [error] 13042#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is nil, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_dao.lua:393: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_store.lua:242: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_store.lua:255: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_store.lua:256: getHashByKeyTag(): {"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_dao.lua:567: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:37:13 [info] 13039#0: *5 [lua] redis_dao.lua:557: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:38:43 [notice] 13130#0: signal process started
2020/07/30 10:38:43 [error] 13136#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:38:43 [error] 13137#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:38:43 [error] 13138#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:38:43 [error] 13139#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_dao.lua:377: init_meta_of_plugin(): ........................................................................, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_dao.lua:386: init_meta_of_plugin(): find meta: type is nil, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_dao.lua:396: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_store.lua:242: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_store.lua:255: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_store.lua:256: getHashByKeyTag(): {"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_dao.lua:570: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:38:44 [info] 13136#0: *5 [lua] redis_dao.lua:560: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:39:49 [notice] 13156#0: signal process started
2020/07/30 10:39:49 [error] 13161#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:39:49 [error] 13164#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:39:49 [error] 13162#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:39:49 [error] 13163#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_dao.lua:393: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_store.lua:242: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_store.lua:255: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_store.lua:256: getHashByKeyTag(): {"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_dao.lua:567: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:39:50 [info] 13161#0: *5 [lua] redis_dao.lua:557: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:42:40 [notice] 13204#0: signal process started
2020/07/30 10:42:40 [error] 13207#0: [lua] gateway.lua:85: init(): Startup error: error loading module 'gateway.store.redis_store' from file './gateway/store/redis_store.lua':
	./gateway/store/redis_store.lua:268: 'end' expected (to close 'function' at line 204) near '<eof>'
2020/07/30 10:43:09 [error] 13224#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:43:09 [error] 13223#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:43:09 [error] 13222#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:43:09 [error] 13221#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is table, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_dao.lua:393: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_store.lua:243: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_store.lua:256: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_dao.lua:575: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:571: in function <./gateway/store/redis_dao.lua:570>
	[C]: in function 'log'
	./gateway/store/redis_store.lua:257: in function 'getHashByKeyTag'
	./gateway/store/redis_dao.lua:405: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:562: in function <./gateway/store/redis_dao.lua:542>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:542: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:43:10 [info] 13221#0: *5 [lua] redis_dao.lua:557: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:43:22 [notice] 13231#0: signal process started
2020/07/30 10:43:22 [error] 13239#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:43:22 [error] 13238#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:43:22 [error] 13237#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:43:22 [error] 13236#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is table, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_dao.lua:393: init_meta_of_plugin(): can not find meta from storage when initializing plugin[monitor] local meta, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_store.lua:243: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_store.lua:256: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_dao.lua:575: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:571: in function <./gateway/store/redis_dao.lua:570>
	[C]: in function 'log'
	./gateway/store/redis_store.lua:257: in function 'getHashByKeyTag'
	./gateway/store/redis_dao.lua:405: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:562: in function <./gateway/store/redis_dao.lua:542>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:542: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:43:23 [info] 13236#0: *5 [lua] redis_dao.lua:557: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:49:29 [notice] 14390#0: signal process started
2020/07/30 10:49:29 [error] 14395#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:49:29 [error] 14398#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:49:29 [error] 14397#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:49:29 [error] 14396#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is table, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_dao.lua:389: init_meta_of_plugin(): init local plugin[monitor] meta error, err:bad value type, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_store.lua:243: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_store.lua:256: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_dao.lua:575: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:571: in function <./gateway/store/redis_dao.lua:570>
	[C]: in function 'log'
	./gateway/store/redis_store.lua:257: in function 'getHashByKeyTag'
	./gateway/store/redis_dao.lua:405: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:562: in function <./gateway/store/redis_dao.lua:542>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:542: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:49:30 [info] 14395#0: *5 [lua] redis_dao.lua:557: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:49:14 [notice] 14975#0: signal process started
2020/07/30 10:49:14 [error] 14983#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:49:14 [error] 14981#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:49:14 [error] 14982#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:49:14 [error] 14980#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is table, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_dao.lua:389: init_meta_of_plugin(): init local plugin[monitor] meta error, err:bad value type, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_store.lua:243: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_store.lua:256: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_dao.lua:564: load data of plugin[monitor] error, init_enable:true init_meta:false init_selectors_and_rules:true, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:49:15 [info] 14980#0: *5 [lua] redis_dao.lua:557: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:54:10 [notice] 15097#0: signal process started
2020/07/30 10:54:10 [error] 15104#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:54:10 [error] 15105#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:54:10 [error] 15106#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:54:10 [error] 15103#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_store.lua:257: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_dao.lua:567: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:54:11 [info] 15103#0: *5 [lua] redis_dao.lua:557: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:58:44 [notice] 15133#0: signal process started
2020/07/30 10:58:44 [error] 15138#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:58:44 [error] 15141#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:58:44 [error] 15139#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:58:44 [error] 15140#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_store.lua:257: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_dao.lua:412: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_dao.lua:571: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:58:45 [info] 15138#0: *5 [lua] redis_dao.lua:561: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:58:07 [notice] 15176#0: signal process started
2020/07/30 10:58:07 [error] 15181#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:58:07 [error] 15184#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:58:07 [error] 15183#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:58:07 [error] 15182#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_store.lua:257: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_dao.lua:412: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_dao.lua:572: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:58:08 [info] 15181#0: *5 [lua] redis_dao.lua:562: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:58:37 [notice] 15196#0: signal process started
2020/07/30 10:58:37 [error] 15204#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:58:37 [error] 15201#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:58:37 [error] 15203#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:58:37 [error] 15202#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_store.lua:257: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_dao.lua:412: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_dao.lua:572: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:58:38 [info] 15201#0: *5 [lua] redis_dao.lua:562: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 10:59:01 [notice] 15212#0: signal process started
2020/07/30 10:59:01 [error] 15219#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:59:01 [error] 15217#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:59:01 [error] 15218#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:59:01 [error] 15220#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_store.lua:257: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_dao.lua:412: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_dao.lua:572: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 10:59:02 [info] 15217#0: *5 [lua] redis_dao.lua:562: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:01:09 [notice] 15254#0: signal process started
2020/07/30 11:01:09 [error] 15261#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:01:09 [error] 15262#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:01:09 [error] 15260#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:01:09 [error] 15259#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_store.lua:257: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_dao.lua:580: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:576: in function '__concat'
	./gateway/store/redis_dao.lua:412: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:567: in function <./gateway/store/redis_dao.lua:547>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:547: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:01:10 [info] 15259#0: *5 [lua] redis_dao.lua:562: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:04:25 [notice] 15279#0: signal process started
2020/07/30 11:04:25 [error] 15287#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:04:25 [error] 15284#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:04:25 [error] 15285#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:04:25 [error] 15286#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_store.lua:257: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_dao.lua:580: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:576: in function '__add'
	./gateway/store/redis_dao.lua:412: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:567: in function <./gateway/store/redis_dao.lua:547>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:547: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:04:26 [info] 15284#0: *5 [lua] redis_dao.lua:562: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:05:07 [notice] 15300#0: signal process started
2020/07/30 11:05:07 [error] 15305#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:05:07 [error] 15308#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:05:07 [error] 15306#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:05:07 [error] 15307#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_store.lua:257: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_dao.lua:580: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:576: in function 'json'
	./gateway/store/redis_dao.lua:412: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:567: in function <./gateway/store/redis_dao.lua:547>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:547: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:05:08 [info] 15305#0: *5 [lua] redis_dao.lua:562: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:03:27 [notice] 15322#0: signal process started
2020/07/30 11:03:27 [error] 15329#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:03:27 [error] 15330#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:03:27 [error] 15328#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:03:27 [error] 15327#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_store.lua:257: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_dao.lua:580: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:576: in function '__concat'
	./gateway/store/redis_dao.lua:412: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:567: in function <./gateway/store/redis_dao.lua:547>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:547: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:03:28 [info] 15327#0: *5 [lua] redis_dao.lua:562: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:09:00 [notice] 15406#0: signal process started
2020/07/30 11:09:00 [error] 15414#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:09:00 [error] 15413#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:09:00 [error] 15415#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:09:00 [error] 15412#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_store.lua:257: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_dao.lua:580: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:576: in function '__concat'
	./gateway/store/redis_dao.lua:412: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:567: in function <./gateway/store/redis_dao.lua:547>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:547: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:09:01 [info] 15412#0: *5 [lua] redis_dao.lua:562: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:28:48 [notice] 15680#0: signal process started
2020/07/30 11:28:48 [error] 15685#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:28:48 [error] 15687#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:28:48 [error] 15688#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:28:48 [error] 15686#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:28:49 [info] 15685#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:28:49 [info] 15685#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:28:49 [info] 15685#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:28:49 [info] 15685#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:28:49 [info] 15685#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:28:49 [info] 15685#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:28:49 [info] 15685#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:28:49 [info] 15685#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:28:49 [info] 15685#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:28:49 [info] 15685#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:28:49 [info] 15685#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:28:49 [info] 15685#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:28:49 [info] 15685#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:28:49 [info] 15685#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:28:49 [info] 15685#0: *5 [lua] redis_store.lua:257: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:28:49 [info] 15685#0: *5 [lua] redis_dao.lua:580: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:576: in function '__concat'
	./gateway/store/redis_dao.lua:412: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:567: in function <./gateway/store/redis_dao.lua:547>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:547: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 11:28:50 [info] 15685#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:28:50 [info] 15685#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:28:50 [info] 15685#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:28:50 [info] 15685#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:28:50 [info] 15685#0: *5 [lua] redis_dao.lua:562: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:29:51 [notice] 15709#0: signal process started
2020/07/30 11:29:51 [error] 15715#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:29:51 [error] 15717#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:29:51 [error] 15716#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:29:51 [error] 15714#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_store.lua:257: getHashByKeyTag(): monitor:key=selector_c298be4e-c1ff-4359-8253-3f761681c44evalue={"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_dao.lua:580: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:576: in function '__concat'
	./gateway/store/redis_dao.lua:412: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:567: in function <./gateway/store/redis_dao.lua:547>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:547: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:29:52 [info] 15714#0: *5 [lua] redis_dao.lua:562: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:34:13 [notice] 15787#0: signal process started
2020/07/30 11:34:14 [error] 15795#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:34:14 [error] 15793#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:34:14 [error] 15794#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:34:14 [error] 15792#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_dao.lua:580: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:576: in function '__concat'
	./gateway/store/redis_dao.lua:412: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:567: in function <./gateway/store/redis_dao.lua:547>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:547: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:34:15 [info] 15792#0: *5 [lua] redis_dao.lua:562: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:32:36 [notice] 15811#0: signal process started
2020/07/30 11:32:36 [error] 15816#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:32:36 [error] 15819#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:32:36 [error] 15817#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:32:36 [error] 15818#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_dao.lua:412: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_dao.lua:580: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:576: in function '__concat'
	./gateway/store/redis_dao.lua:420: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:567: in function <./gateway/store/redis_dao.lua:547>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:547: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:34:59 [info] 15816#0: *5 [lua] redis_dao.lua:562: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:37:09 [notice] 15870#0: signal process started
2020/07/30 11:37:09 [error] 15877#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:37:09 [error] 15875#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:37:09 [error] 15876#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:37:09 [error] 15878#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_dao.lua:412: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_dao.lua:420: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_dao.lua:580: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:576: in function '__concat'
	./gateway/store/redis_dao.lua:22: in function 'get_selector'
	./gateway/store/redis_dao.lua:321: in function 'init_rules_of_selector'
	./gateway/store/redis_dao.lua:423: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:567: in function <./gateway/store/redis_dao.lua:547>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:547: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:37:10 [info] 15875#0: *5 [lua] redis_dao.lua:562: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:43:19 [notice] 15985#0: signal process started
2020/07/30 11:43:19 [error] 15992#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:43:19 [error] 15994#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:43:19 [error] 15991#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:43:19 [error] 15993#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:43:20 [info] 15991#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_dao.lua:346: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_dao.lua:386: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_dao.lua:415: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_dao.lua:423: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_dao.lua:326: init_rules_of_selector(): error to find selector from storage when initializing plugin[monitor] local selector rules, selector_id:c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_dao.lua:572: load data of plugin[monitor] error, init_enable:true init_meta:true init_selectors_and_rules:false, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_dao.lua:346: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:43:21 [info] 15991#0: *5 [lua] redis_dao.lua:565: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:46:20 [notice] 16059#0: signal process started
2020/07/30 11:46:20 [error] 16067#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:46:20 [error] 16066#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:46:20 [error] 16064#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:46:20 [error] 16065#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_dao.lua:338: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_dao.lua:378: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_dao.lua:407: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_dao.lua:415: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_dao.lua:318: init_rules_of_selector(): error to find selector from storage when initializing plugin[monitor] local selector rules, selector_id:c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_dao.lua:564: load data of plugin[monitor] error, init_enable:true init_meta:true init_selectors_and_rules:false, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_dao.lua:338: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:46:21 [info] 16064#0: *5 [lua] redis_dao.lua:557: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:50:35 [notice] 16097#0: signal process started
2020/07/30 11:50:35 [error] 16103#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:50:35 [error] 16104#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:50:35 [error] 16105#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:50:35 [error] 16102#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_dao.lua:381: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_dao.lua:410: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_dao.lua:418: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_dao.lua:321: init_rules_of_selector(): error to find selector from storage when initializing plugin[monitor] local selector rules, selector_id:c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_dao.lua:567: load data of plugin[monitor] error, init_enable:true init_meta:true init_selectors_and_rules:false, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:50:36 [info] 16102#0: *5 [lua] redis_dao.lua:560: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:50:16 [notice] 16137#0: signal process started
2020/07/30 11:50:16 [error] 16142#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:50:16 [error] 16143#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:50:16 [error] 16145#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:50:16 [error] 16144#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_dao.lua:381: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_dao.lua:410: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_dao.lua:418: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_dao.lua:578: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:574: in function '__concat'
	./gateway/store/redis_store.lua:229: in function 'getMHashInfo'
	./gateway/store/redis_dao.lua:54: in function 'get_rules_of_selector'
	./gateway/store/redis_dao.lua:327: in function 'init_rules_of_selector'
	./gateway/store/redis_dao.lua:421: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:565: in function <./gateway/store/redis_dao.lua:545>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:545: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:50:17 [info] 16142#0: *5 [lua] redis_dao.lua:560: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:52:21 [notice] 16176#0: signal process started
2020/07/30 11:52:21 [error] 16182#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:52:21 [error] 16185#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:52:21 [error] 16184#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:52:21 [error] 16183#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_dao.lua:381: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_store.lua:244: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_dao.lua:410: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_dao.lua:418: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:52:22 [info] 16182#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:52:23 [info] 16182#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:52:23 [info] 16182#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:52:23 [info] 16182#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/30 11:52:23 [info] 16182#0: *5 [lua] redis_dao.lua:570: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 11:52:23 [info] 16182#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:52:23 [info] 16182#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:52:23 [info] 16182#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:52:23 [info] 16182#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:52:23 [info] 16182#0: *5 [lua] redis_dao.lua:560: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:56:12 [notice] 16211#0: signal process started
2020/07/30 11:56:12 [error] 16217#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:56:12 [error] 16218#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:56:12 [error] 16219#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:56:12 [error] 16216#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_dao.lua:381: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:246: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_dao.lua:410: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_dao.lua:418: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_dao.lua:578: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:574: in function '__concat'
	./gateway/store/redis_store.lua:238: in function 'getMHashInfo'
	./gateway/store/redis_dao.lua:54: in function 'get_rules_of_selector'
	./gateway/store/redis_dao.lua:327: in function 'init_rules_of_selector'
	./gateway/store/redis_dao.lua:421: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:565: in function <./gateway/store/redis_dao.lua:545>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:545: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:56:13 [info] 16216#0: *5 [lua] redis_dao.lua:560: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:57:08 [notice] 16235#0: signal process started
2020/07/30 11:57:08 [error] 16241#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:57:08 [error] 16243#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:57:08 [error] 16240#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:57:08 [error] 16242#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_dao.lua:381: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:246: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_dao.lua:410: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_dao.lua:418: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_dao.lua:578: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:574: in function '__concat'
	./gateway/store/redis_store.lua:238: in function 'getMHashInfo'
	./gateway/store/redis_dao.lua:54: in function 'get_rules_of_selector'
	./gateway/store/redis_dao.lua:327: in function 'init_rules_of_selector'
	./gateway/store/redis_dao.lua:421: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:565: in function <./gateway/store/redis_dao.lua:545>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:545: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:57:09 [info] 16240#0: *5 [lua] redis_dao.lua:560: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:58:19 [notice] 16262#0: signal process started
2020/07/30 11:58:19 [error] 16268#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:58:19 [error] 16269#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:58:19 [error] 16270#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:58:19 [error] 16267#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_dao.lua:381: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:253: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_dao.lua:410: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_dao.lua:418: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_dao.lua:578: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:574: in function '__concat'
	./gateway/store/redis_store.lua:240: in function 'getMHashInfo'
	./gateway/store/redis_dao.lua:54: in function 'get_rules_of_selector'
	./gateway/store/redis_dao.lua:327: in function 'init_rules_of_selector'
	./gateway/store/redis_dao.lua:421: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:565: in function <./gateway/store/redis_dao.lua:545>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:545: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:58:20 [info] 16267#0: *5 [lua] redis_dao.lua:560: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:59:08 [notice] 16288#0: signal process started
2020/07/30 11:59:08 [error] 16293#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:59:08 [error] 16295#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:59:08 [error] 16294#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:59:08 [error] 16296#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_dao.lua:381: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_dao.lua:410: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_dao.lua:418: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_dao.lua:578: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:574: in function <./gateway/store/redis_dao.lua:573>
	[C]: in function 'log'
	./gateway/store/redis_store.lua:239: in function 'getMHashInfo'
	./gateway/store/redis_dao.lua:54: in function 'get_rules_of_selector'
	./gateway/store/redis_dao.lua:327: in function 'init_rules_of_selector'
	./gateway/store/redis_dao.lua:421: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:565: in function <./gateway/store/redis_dao.lua:545>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:545: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:59:09 [info] 16293#0: *5 [lua] redis_dao.lua:560: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 11:59:49 [notice] 16305#0: signal process started
2020/07/30 11:59:49 [error] 16311#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:59:49 [error] 16313#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:59:49 [error] 16310#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:59:49 [error] 16312#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_dao.lua:381: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_dao.lua:410: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_dao.lua:418: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_dao.lua:578: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:574: in function '__concat'
	./gateway/store/redis_store.lua:239: in function 'getMHashInfo'
	./gateway/store/redis_dao.lua:54: in function 'get_rules_of_selector'
	./gateway/store/redis_dao.lua:327: in function 'init_rules_of_selector'
	./gateway/store/redis_dao.lua:421: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:565: in function <./gateway/store/redis_dao.lua:545>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:545: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 11:59:50 [info] 16310#0: *5 [lua] redis_dao.lua:560: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 12:00:25 [notice] 16328#0: signal process started
2020/07/30 12:00:25 [error] 16334#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:00:25 [error] 16335#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:00:25 [error] 16336#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:00:25 [error] 16333#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_dao.lua:381: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_dao.lua:410: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_dao.lua:418: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:239: getMHashInfo(): %%%%%%%%%%%%%%%%%%getMHashInfomonitor_pluginvalue==["{\"time\":\"2020-01-16 10:11:33\",\"enable\":true,\"id\":\"91f62fa2-0c2d-424c-97bc-249e338f75f1\",\"judge\":{\"conditions\":[{\"value\":\"\\\/api\",\"operator\":\"match\",\"type\":\"URI\"}],\"type\":0},\"name\":\"api\",\"handle\":{\"continue\":true,\"log\":false}}"], context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_dao.lua:570: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 12:00:26 [info] 16333#0: *5 [lua] redis_dao.lua:560: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 12:01:23 [notice] 16394#0: signal process started
2020/07/30 12:01:23 [error] 16400#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:01:23 [error] 16401#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:01:23 [error] 16403#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:01:23 [error] 16402#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_dao.lua:381: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_dao.lua:410: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_dao.lua:418: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:239: getMHashInfo(): %%%%%%%%%%%%%%%%%%getMHashInfomonitor_plugin:value==["{\"time\":\"2020-01-16 10:11:33\",\"enable\":true,\"id\":\"91f62fa2-0c2d-424c-97bc-249e338f75f1\",\"judge\":{\"conditions\":[{\"value\":\"\\\/api\",\"operator\":\"match\",\"type\":\"URI\"}],\"type\":0},\"name\":\"api\",\"handle\":{\"continue\":true,\"log\":false}}"], context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_dao.lua:570: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 12:01:24 [info] 16400#0: *5 [lua] redis_dao.lua:560: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 12:02:36 [notice] 16449#0: signal process started
2020/07/30 12:02:36 [error] 16457#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:02:36 [error] 16456#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:02:36 [error] 16454#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:02:36 [error] 16455#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_dao.lua:381: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_dao.lua:410: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_dao.lua:418: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:239: getMHashInfo(): %%%%%%%%%%%%%%%%%%getMHashInfomonitor_plugin:value==["{\"time\":\"2020-01-16 10:11:33\",\"enable\":true,\"id\":\"91f62fa2-0c2d-424c-97bc-249e338f75f1\",\"judge\":{\"conditions\":[{\"value\":\"\\\/api\",\"operator\":\"match\",\"type\":\"URI\"}],\"type\":0},\"name\":\"api\",\"handle\":{\"continue\":true,\"log\":false}}"], context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_dao.lua:60: get_rules_of_selector():  rules of selector, typetable len=1, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_dao.lua:570: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_dao.lua:341: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 12:02:37 [info] 16454#0: *5 [lua] redis_dao.lua:560: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 12:04:31 [notice] 16486#0: signal process started
2020/07/30 12:04:31 [error] 16489#0: init_by_lua error: error loading module 'gateway.store.redis_dao' from file './gateway/store/redis_dao.lua':
	./gateway/store/redis_dao.lua:68: 'do' expected near 'local'
stack traceback:
	[C]: at 0x7f659d6a7150
	[C]: in function 'require'
	./gateway/gateway.lua:10: in main chunk
	[C]: in function 'require'
	init_by_lua:2: in main chunk
2020/07/30 12:05:55 [error] 16505#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:05:55 [error] 16506#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:05:55 [error] 16507#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:05:55 [error] 16508#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_dao.lua:383: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_dao.lua:412: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_dao.lua:420: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:239: getMHashInfo(): %%%%%%%%%%%%%%%%%%getMHashInfomonitor_plugin:value==["{\"time\":\"2020-01-16 10:11:33\",\"enable\":true,\"id\":\"91f62fa2-0c2d-424c-97bc-249e338f75f1\",\"judge\":{\"conditions\":[{\"value\":\"\\\/api\",\"operator\":\"match\",\"type\":\"URI\"}],\"type\":0},\"name\":\"api\",\"handle\":{\"continue\":true,\"log\":false}}"], context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_dao.lua:60: get_rules_of_selector():  rules of selector, typetable len=1, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_dao.lua:572: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_dao.lua:343: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 12:05:56 [info] 16505#0: *5 [lua] redis_dao.lua:562: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 12:09:19 [notice] 16550#0: signal process started
2020/07/30 12:09:19 [error] 16553#0: init_by_lua error: error loading module 'gateway.store.redis_dao' from file './gateway/store/redis_dao.lua':
	./gateway/store/redis_dao.lua:330: unfinished string near '".rules, rules)'
stack traceback:
	[C]: at 0x7efe616c2150
	[C]: in function 'require'
	./gateway/gateway.lua:10: in main chunk
	[C]: in function 'require'
	init_by_lua:2: in main chunk
2020/07/30 12:10:16 [error] 16571#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:10:16 [error] 16573#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:10:16 [error] 16572#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:10:16 [error] 16574#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_dao.lua:345: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_dao.lua:385: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_dao.lua:414: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_dao.lua:422: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:239: getMHashInfo(): %%%%%%%%%%%%%%%%%%getMHashInfomonitor_plugin:value==["{\"time\":\"2020-01-16 10:11:33\",\"enable\":true,\"id\":\"91f62fa2-0c2d-424c-97bc-249e338f75f1\",\"judge\":{\"conditions\":[{\"value\":\"\\\/api\",\"operator\":\"match\",\"type\":\"URI\"}],\"type\":0},\"name\":\"api\",\"handle\":{\"continue\":true,\"log\":false}}"], context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_dao.lua:60: get_rules_of_selector():  rules of selector, typetable len=1, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_dao.lua:582: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:578: in function <./gateway/store/redis_dao.lua:577>
	[C]: in function 'log'
	./gateway/store/redis_dao.lua:330: in function 'init_rules_of_selector'
	./gateway/store/redis_dao.lua:425: in function 'init_selectors_of_plugin'
	./gateway/store/redis_dao.lua:569: in function <./gateway/store/redis_dao.lua:549>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:549: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_dao.lua:345: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 12:10:17 [info] 16571#0: *5 [lua] redis_dao.lua:564: load data of plugin[kvstore] success, context: ngx.timer
2020/07/30 12:10:51 [notice] 16586#0: signal process started
2020/07/30 12:10:51 [error] 16593#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:10:51 [error] 16591#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:10:51 [error] 16594#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:10:51 [error] 16592#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_dao.lua:345: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_dao.lua:385: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_dao.lua:414: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_dao.lua:422: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:239: getMHashInfo(): %%%%%%%%%%%%%%%%%%getMHashInfomonitor_plugin:value==["{\"time\":\"2020-01-16 10:11:33\",\"enable\":true,\"id\":\"91f62fa2-0c2d-424c-97bc-249e338f75f1\",\"judge\":{\"conditions\":[{\"value\":\"\\\/api\",\"operator\":\"match\",\"type\":\"URI\"}],\"type\":0},\"name\":\"api\",\"handle\":{\"continue\":true,\"log\":false}}"], context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_dao.lua:60: get_rules_of_selector():  rules of selector, typetable len=1, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_dao.lua:330: init_rules_of_selector(): monitor.selector.c298be4e-c1ff-4359-8253-3f761681c44e.rules[{"time":"2020-01-16 10:11:33","enable":true,"id":"91f62fa2-0c2d-424c-97bc-249e338f75f1","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"api","handle":{"continue":true,"log":false}}], context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_dao.lua:574: load data of plugin[monitor] success, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_dao.lua:345: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/30 12:10:52 [info] 16591#0: *5 [lua] redis_dao.lua:564: load data of plugin[kvstore] success, context: ngx.timer
2020/07/31 10:27:39 [notice] 25671#0: signal process started
2020/07/31 10:27:39 [error] 25680#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:27:39 [info] 25680#0: *1 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:27:39 [error] 25679#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:27:39 [info] 25679#0: *2 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:27:39 [error] 25677#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:27:39 [info] 25677#0: *3 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:27:39 [error] 25678#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:27:39 [info] 25678#0: *4 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_dao.lua:417: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:214: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:239: getMHashInfo(): %%%%%%%%%%%%%%%%%%getMHashInfomonitor_plugin:value==["{\"time\":\"2020-01-16 10:11:33\",\"enable\":true,\"id\":\"91f62fa2-0c2d-424c-97bc-249e338f75f1\",\"judge\":{\"conditions\":[{\"value\":\"\\\/api\",\"operator\":\"match\",\"type\":\"URI\"}],\"type\":0},\"name\":\"api\",\"handle\":{\"continue\":true,\"log\":false}}"], context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_dao.lua:55: get_rules_of_selector():  rules of selector, typetable len=1, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_dao.lua:325: init_rules_of_selector(): monitor.selector.c298be4e-c1ff-4359-8253-3f761681c44e.rules[{"time":"2020-01-16 10:11:33","enable":true,"id":"91f62fa2-0c2d-424c-97bc-249e338f75f1","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"api","handle":{"continue":true,"log":false}}], context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_dao.lua:569: load data of plugin[monitor] success, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111ab_divide, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:172: query(): redisab_dividevalue="1", context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......ab_divideenbale, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------ab_divide_plugin keymeta, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_dao.lua:577: load_data_by_redis(): [load plugin's data error], plugin:ab_divide error:stack traceback:
	./gateway/store/redis_dao.lua:573: in function '__concat'
	./gateway/store/redis_store.lua:214: in function 'getHashInfo'
	./gateway/store/redis_dao.lua:374: in function 'init_meta_of_plugin'
	./gateway/store/redis_dao.lua:563: in function <./gateway/store/redis_dao.lua:544>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:544: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/31 10:27:40 [info] 25677#0: *5 [lua] redis_dao.lua:559: load data of plugin[kvstore] success, context: ngx.timer
2020/07/31 10:29:47 [notice] 25742#0: signal process started
2020/07/31 10:29:47 [error] 25749#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:29:47 [error] 25748#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:29:47 [info] 25748#0: *2 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:29:47 [info] 25749#0: *1 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:29:47 [error] 25750#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:29:47 [info] 25750#0: *3 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:29:47 [error] 25747#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:29:47 [info] 25747#0: *4 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:215: getHashInfo(): ---------------------------getHashInfo------------------------{"selectors":["c298be4e-c1ff-4359-8253-3f761681c44e"]}, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:215: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_dao.lua:417: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:215: getHashInfo(): ---------------------------getHashInfo------------------------{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:239: getMHashInfo(): %%%%%%%%%%%%%%%%%%getMHashInfomonitor_plugin:value==["{\"time\":\"2020-01-16 10:11:33\",\"enable\":true,\"id\":\"91f62fa2-0c2d-424c-97bc-249e338f75f1\",\"judge\":{\"conditions\":[{\"value\":\"\\\/api\",\"operator\":\"match\",\"type\":\"URI\"}],\"type\":0},\"name\":\"api\",\"handle\":{\"continue\":true,\"log\":false}}"], context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_dao.lua:55: get_rules_of_selector():  rules of selector, typetable len=1, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_dao.lua:325: init_rules_of_selector(): monitor.selector.c298be4e-c1ff-4359-8253-3f761681c44e.rules[{"time":"2020-01-16 10:11:33","enable":true,"id":"91f62fa2-0c2d-424c-97bc-249e338f75f1","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"api","handle":{"continue":true,"log":false}}], context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_dao.lua:569: load data of plugin[monitor] success, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111ab_divide, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:172: query(): redisab_dividevalue="1", context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......ab_divideenbale, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------ab_divide_plugin keymeta, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_dao.lua:577: load_data_by_redis(): [load plugin's data error], plugin:ab_divide error:stack traceback:
	./gateway/store/redis_dao.lua:573: in function '__concat'
	./gateway/store/redis_store.lua:215: in function 'getHashInfo'
	./gateway/store/redis_dao.lua:374: in function 'init_meta_of_plugin'
	./gateway/store/redis_dao.lua:563: in function <./gateway/store/redis_dao.lua:544>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:544: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/31 10:29:48 [info] 25747#0: *5 [lua] redis_dao.lua:559: load data of plugin[kvstore] success, context: ngx.timer
2020/07/31 10:30:34 [notice] 25791#0: signal process started
2020/07/31 10:30:34 [error] 25796#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:30:34 [info] 25796#0: *1 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:30:34 [error] 25797#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:30:34 [info] 25797#0: *2 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:30:34 [error] 25798#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:30:34 [info] 25798#0: *3 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:30:34 [error] 25799#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:30:34 [info] 25799#0: *4 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_dao.lua:577: load_data_by_redis(): [load plugin's data error], plugin:monitor error:stack traceback:
	./gateway/store/redis_dao.lua:573: in function '__concat'
	./gateway/store/redis_store.lua:215: in function 'getHashInfo'
	./gateway/store/redis_dao.lua:374: in function 'init_meta_of_plugin'
	./gateway/store/redis_dao.lua:563: in function <./gateway/store/redis_dao.lua:544>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:544: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111ab_divide, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_store.lua:172: query(): redisab_dividevalue="1", context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......ab_divideenbale, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------ab_divide_plugin keymeta, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_dao.lua:577: load_data_by_redis(): [load plugin's data error], plugin:ab_divide error:stack traceback:
	./gateway/store/redis_dao.lua:573: in function '__concat'
	./gateway/store/redis_store.lua:215: in function 'getHashInfo'
	./gateway/store/redis_dao.lua:374: in function 'init_meta_of_plugin'
	./gateway/store/redis_dao.lua:563: in function <./gateway/store/redis_dao.lua:544>
	[C]: in function 'xpcall'
	./gateway/store/redis_dao.lua:544: in function 'load_data_by_redis'
	./gateway/gateway.lua:128: in function <./gateway/gateway.lua:124>, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/31 10:30:35 [info] 25796#0: *5 [lua] redis_dao.lua:559: load data of plugin[kvstore] success, context: ngx.timer
2020/07/31 10:31:14 [notice] 25834#0: signal process started
2020/07/31 10:31:14 [error] 25840#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:31:14 [info] 25840#0: *1 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:31:14 [error] 25839#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:31:14 [info] 25839#0: *2 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:31:14 [error] 25842#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:31:14 [info] 25842#0: *3 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:31:14 [error] 25841#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:31:14 [info] 25841#0: *4 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_dao.lua:417: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:239: getMHashInfo(): %%%%%%%%%%%%%%%%%%getMHashInfomonitor_plugin:value==["{\"time\":\"2020-01-16 10:11:33\",\"enable\":true,\"id\":\"91f62fa2-0c2d-424c-97bc-249e338f75f1\",\"judge\":{\"conditions\":[{\"value\":\"\\\/api\",\"operator\":\"match\",\"type\":\"URI\"}],\"type\":0},\"name\":\"api\",\"handle\":{\"continue\":true,\"log\":false}}"], context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_dao.lua:55: get_rules_of_selector():  rules of selector, typetable len=1, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_dao.lua:325: init_rules_of_selector(): monitor.selector.c298be4e-c1ff-4359-8253-3f761681c44e.rules[{"time":"2020-01-16 10:11:33","enable":true,"id":"91f62fa2-0c2d-424c-97bc-249e338f75f1","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"api","handle":{"continue":true,"log":false}}], context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_dao.lua:569: load data of plugin[monitor] success, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111ab_divide, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:172: query(): redisab_dividevalue="1", context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......ab_divideenbale, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------ab_divide_plugin keymeta, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is userdata, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_dao.lua:386: init_meta_of_plugin(): init local plugin[ab_divide] meta error, err:bad value type, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagab_divide keystagselector, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_dao.lua:566: load data of plugin[ab_divide] error, init_enable:true init_meta:false init_selectors_and_rules:true, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/31 10:31:15 [info] 25839#0: *5 [lua] redis_dao.lua:559: load data of plugin[kvstore] success, context: ngx.timer
2020/07/31 10:47:25 [notice] 26054#0: signal process started
2020/07/31 10:47:25 [error] 26059#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:47:25 [info] 26059#0: *1 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:47:25 [error] 26060#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:47:25 [error] 26061#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:47:25 [info] 26061#0: *3 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:47:25 [info] 26060#0: *2 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:47:25 [error] 26062#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:47:25 [info] 26062#0: *4 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_dao.lua:417: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:239: getMHashInfo(): %%%%%%%%%%%%%%%%%%getMHashInfomonitor_plugin:value==["{\"time\":\"2020-01-16 10:11:33\",\"enable\":true,\"id\":\"91f62fa2-0c2d-424c-97bc-249e338f75f1\",\"judge\":{\"conditions\":[{\"value\":\"\\\/api\",\"operator\":\"match\",\"type\":\"URI\"}],\"type\":0},\"name\":\"api\",\"handle\":{\"continue\":true,\"log\":false}}"], context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_dao.lua:55: get_rules_of_selector():  rules of selector, typetable len=1, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_dao.lua:325: init_rules_of_selector(): monitor.selector.c298be4e-c1ff-4359-8253-3f761681c44e.rules[{"time":"2020-01-16 10:11:33","enable":true,"id":"91f62fa2-0c2d-424c-97bc-249e338f75f1","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"api","handle":{"continue":true,"log":false}}], context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_dao.lua:569: load data of plugin[monitor] success, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111ab_divide, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:172: query(): redisab_dividevalue="1", context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......ab_divideenbale, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------ab_divide_plugin keymeta, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is userdata, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_dao.lua:386: init_meta_of_plugin(): init local plugin[ab_divide] meta error, err:bad value type, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagab_divide keystagselector, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_dao.lua:566: load data of plugin[ab_divide] error, init_enable:true init_meta:false init_selectors_and_rules:true, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/31 10:47:26 [info] 26059#0: *5 [lua] redis_dao.lua:559: load data of plugin[kvstore] success, context: ngx.timer
2020/07/31 10:48:20 [info] 26062#0: *10 [lua] handler.lua:88: access(): [AB_Divide] ......................, client: 127.0.0.1, server: , request: "GET / HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 10:49:20 [info] 26059#0: *13 client timed out (110: Connection timed out) while waiting for request, client: 127.0.0.1, server: 0.0.0.0:9090
2020/07/31 10:52:12 [emerg] 26203#0: duplicate upstream "default_upstream" in /home/wuwenhui/software/gateway/./conf/nginx.conf:30
2020/07/31 10:52:12 [emerg] 26206#0: duplicate upstream "default_upstream" in /home/wuwenhui/software/gateway/./conf/nginx.conf:30
2020/07/31 10:58:33 [notice] 26386#0: signal process started
2020/07/31 10:58:33 [error] 26394#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:58:33 [info] 26394#0: *1 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:58:33 [error] 26391#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:58:33 [error] 26392#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:58:33 [info] 26392#0: *3 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:58:33 [info] 26391#0: *2 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:58:33 [error] 26393#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 10:58:33 [info] 26393#0: *4 [lua] handler.lua:82: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_dao.lua:417: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:239: getMHashInfo(): %%%%%%%%%%%%%%%%%%getMHashInfomonitor_plugin:value==["{\"time\":\"2020-01-16 10:11:33\",\"enable\":true,\"id\":\"91f62fa2-0c2d-424c-97bc-249e338f75f1\",\"judge\":{\"conditions\":[{\"value\":\"\\\/api\",\"operator\":\"match\",\"type\":\"URI\"}],\"type\":0},\"name\":\"api\",\"handle\":{\"continue\":true,\"log\":false}}"], context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_dao.lua:55: get_rules_of_selector():  rules of selector, typetable len=1, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_dao.lua:325: init_rules_of_selector(): monitor.selector.c298be4e-c1ff-4359-8253-3f761681c44e.rules[{"time":"2020-01-16 10:11:33","enable":true,"id":"91f62fa2-0c2d-424c-97bc-249e338f75f1","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"api","handle":{"continue":true,"log":false}}], context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_dao.lua:569: load data of plugin[monitor] success, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111ab_divide, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:172: query(): redisab_dividevalue="1", context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......ab_divideenbale, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------ab_divide_plugin keymeta, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is userdata, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_dao.lua:386: init_meta_of_plugin(): init local plugin[ab_divide] meta error, err:bad value type, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagab_divide keystagselector, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_dao.lua:566: load data of plugin[ab_divide] error, init_enable:true init_meta:false init_selectors_and_rules:true, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/31 10:58:34 [info] 26391#0: *5 [lua] redis_dao.lua:559: load data of plugin[kvstore] success, context: ngx.timer
2020/07/31 10:59:01 [info] 26393#0: *10 [lua] handler.lua:92: access(): [AB_Divide] ....................../a, client: 127.0.0.1, server: , request: "GET /a HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 10:59:01 [info] 26393#0: *10 [lua] handler.lua:94: access(): [AB_Divide]  , client: 127.0.0.1, server: , request: "GET /a HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 10:59:12 [info] 26392#0: *13 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:9090
2020/07/31 10:59:12 [info] 26393#0: *10 [lua] handler.lua:92: access(): [AB_Divide] ....................../a/b, client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:00:12 [info] 26393#0: *16 client timed out (110: Connection timed out) while waiting for request, client: 127.0.0.1, server: 0.0.0.0:9090
2020/07/31 11:02:01 [info] 26392#0: *17 [lua] handler.lua:92: access(): [AB_Divide] ....................../a, client: 127.0.0.1, server: , request: "GET /a HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:02:01 [info] 26392#0: *17 [lua] handler.lua:94: access(): [AB_Divide]  , client: 127.0.0.1, server: , request: "GET /a HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:02:53 [info] 26391#0: *18 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:9090
2020/07/31 11:02:53 [info] 26392#0: *17 [lua] handler.lua:92: access(): [AB_Divide] ....................../a, client: 127.0.0.1, server: , request: "GET /a HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:02:53 [info] 26392#0: *17 [lua] handler.lua:94: access(): [AB_Divide]  , client: 127.0.0.1, server: , request: "GET /a HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:02:57 [info] 26392#0: *17 [lua] handler.lua:92: access(): [AB_Divide] ....................../a/a, client: 127.0.0.1, server: , request: "GET /a/a HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:03:40 [info] 26393#0: *23 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:9090
2020/07/31 11:37:42 [notice] 26999#0: signal process started
2020/07/31 11:37:42 [error] 27003#0: [lua] gateway.lua:85: init(): Startup error: ./gateway/utils/utils.lua:192: error loading module 'gateway.plugins.ab_divide.handler' from file './gateway/plugins/ab_divide/handler.lua':
	./gateway/plugins/ab_divide/handler.lua:168: 'end' expected (to close 'function' at line 86) near '<eof>'
2020/07/31 11:38:35 [error] 27038#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 11:38:35 [error] 27035#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 11:38:35 [info] 27035#0: *2 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 11:38:35 [info] 27038#0: *1 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 11:38:35 [error] 27036#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 11:38:35 [info] 27036#0: *3 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 11:38:35 [error] 27037#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 11:38:35 [info] 27037#0: *4 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_dao.lua:417: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:239: getMHashInfo(): %%%%%%%%%%%%%%%%%%getMHashInfomonitor_plugin:value==["{\"time\":\"2020-01-16 10:11:33\",\"enable\":true,\"id\":\"91f62fa2-0c2d-424c-97bc-249e338f75f1\",\"judge\":{\"conditions\":[{\"value\":\"\\\/api\",\"operator\":\"match\",\"type\":\"URI\"}],\"type\":0},\"name\":\"api\",\"handle\":{\"continue\":true,\"log\":false}}"], context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_dao.lua:55: get_rules_of_selector():  rules of selector, typetable len=1, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_dao.lua:325: init_rules_of_selector(): monitor.selector.c298be4e-c1ff-4359-8253-3f761681c44e.rules[{"time":"2020-01-16 10:11:33","enable":true,"id":"91f62fa2-0c2d-424c-97bc-249e338f75f1","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"api","handle":{"continue":true,"log":false}}], context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_dao.lua:569: load data of plugin[monitor] success, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111ab_divide, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:172: query(): redisab_dividevalue="1", context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......ab_divideenbale, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------ab_divide_plugin keymeta, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is userdata, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_dao.lua:386: init_meta_of_plugin(): init local plugin[ab_divide] meta error, err:bad value type, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagab_divide keystagselector, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_dao.lua:566: load data of plugin[ab_divide] error, init_enable:true init_meta:false init_selectors_and_rules:true, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/31 11:38:36 [info] 27035#0: *5 [lua] redis_dao.lua:559: load data of plugin[kvstore] success, context: ngx.timer
2020/07/31 11:38:51 [info] 27037#0: *10 [lua] handler.lua:98: access(): [AB_Divide] ....................../a/a, client: 127.0.0.1, server: , request: "GET /a/a HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:38:51 [error] 27037#0: *10 lua entry thread aborted: runtime error: ./gateway/plugins/ab_divide/handler.lua:100: bad argument #1 to 'pairs' (table expected, got nil)
stack traceback:
coroutine 0:
	[C]: in function 'pairs'
	./gateway/plugins/ab_divide/handler.lua:100: in function 'access'
	./gateway/gateway.lua:181: in function 'access'
	access_by_lua(nginx.conf:96):3: in function <access_by_lua(nginx.conf:96):1>, client: 127.0.0.1, server: , request: "GET /a/a HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:39:29 [notice] 27087#0: signal process started
2020/07/31 11:39:29 [error] 27095#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 11:39:29 [info] 27095#0: *1 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 11:39:29 [error] 27093#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 11:39:29 [info] 27093#0: *2 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 11:39:29 [error] 27092#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 11:39:29 [info] 27092#0: *3 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 11:39:29 [error] 27094#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 11:39:29 [info] 27094#0: *4 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_dao.lua:417: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:239: getMHashInfo(): %%%%%%%%%%%%%%%%%%getMHashInfomonitor_plugin:value==["{\"time\":\"2020-01-16 10:11:33\",\"enable\":true,\"id\":\"91f62fa2-0c2d-424c-97bc-249e338f75f1\",\"judge\":{\"conditions\":[{\"value\":\"\\\/api\",\"operator\":\"match\",\"type\":\"URI\"}],\"type\":0},\"name\":\"api\",\"handle\":{\"continue\":true,\"log\":false}}"], context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_dao.lua:55: get_rules_of_selector():  rules of selector, typetable len=1, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_dao.lua:325: init_rules_of_selector(): monitor.selector.c298be4e-c1ff-4359-8253-3f761681c44e.rules[{"time":"2020-01-16 10:11:33","enable":true,"id":"91f62fa2-0c2d-424c-97bc-249e338f75f1","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"api","handle":{"continue":true,"log":false}}], context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_dao.lua:569: load data of plugin[monitor] success, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111ab_divide, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:172: query(): redisab_dividevalue="1", context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......ab_divideenbale, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------ab_divide_plugin keymeta, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is userdata, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_dao.lua:386: init_meta_of_plugin(): init local plugin[ab_divide] meta error, err:bad value type, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagab_divide keystagselector, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_dao.lua:566: load data of plugin[ab_divide] error, init_enable:true init_meta:false init_selectors_and_rules:true, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/31 11:39:30 [info] 27092#0: *5 [lua] redis_dao.lua:559: load data of plugin[kvstore] success, context: ngx.timer
2020/07/31 11:39:34 [info] 27093#0: *10 [lua] handler.lua:98: access(): [AB_Divide] ....................../a/a, client: 127.0.0.1, server: , request: "GET /a/a HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:39:34 [info] 27093#0: *10 [lua] handler.lua:115: access(): [AB_Divide]  , client: 127.0.0.1, server: , request: "GET /a/a HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:39:39 [info] 27093#0: *10 [lua] handler.lua:98: access(): [AB_Divide] ....................../a/a, client: 127.0.0.1, server: , request: "GET /a/a HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:39:39 [info] 27093#0: *10 [lua] handler.lua:115: access(): [AB_Divide]  , client: 127.0.0.1, server: , request: "GET /a/a HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:39:45 [info] 27094#0: *11 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:9090
2020/07/31 11:39:45 [info] 27093#0: *10 [lua] handler.lua:98: access(): [AB_Divide] ....................../a, client: 127.0.0.1, server: , request: "GET /a HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:39:45 [info] 27093#0: *10 [lua] handler.lua:115: access(): [AB_Divide]  , client: 127.0.0.1, server: , request: "GET /a HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:40:17 [info] 27095#0: *18 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:9090
2020/07/31 11:40:17 [info] 27093#0: *10 [lua] handler.lua:98: access(): [AB_Divide] ....................../a, client: 127.0.0.1, server: , request: "GET /a HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:40:17 [info] 27093#0: *10 [lua] handler.lua:111: access(): [AB_Divide]  , client: 127.0.0.1, server: , request: "GET /a HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:40:24 [info] 27093#0: *10 [lua] handler.lua:98: access(): [AB_Divide] ....................../a/b, client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:40:24 [info] 27093#0: *10 [lua] handler.lua:111: access(): [AB_Divide]  , client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:40:34 [info] 27094#0: *21 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:9090
2020/07/31 11:40:34 [info] 27093#0: *10 [lua] handler.lua:98: access(): [AB_Divide] ....................../a/b, client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:40:34 [info] 27093#0: *10 [lua] handler.lua:111: access(): [AB_Divide]  , client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 11:41:34 [info] 27092#0: *24 client timed out (110: Connection timed out) while waiting for request, client: 127.0.0.1, server: 0.0.0.0:9090
2020/07/31 15:33:45 [notice] 29469#0: signal process started
2020/07/31 15:33:45 [error] 29474#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 15:33:45 [info] 29474#0: *1 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 15:33:45 [error] 29477#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 15:33:45 [info] 29477#0: *2 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 15:33:45 [error] 29476#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 15:33:45 [info] 29476#0: *3 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 15:33:45 [error] 29475#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/07/31 15:33:45 [info] 29475#0: *4 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_dao.lua:417: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:239: getMHashInfo(): %%%%%%%%%%%%%%%%%%getMHashInfomonitor_plugin:value==["{\"time\":\"2020-01-16 10:11:33\",\"enable\":true,\"id\":\"91f62fa2-0c2d-424c-97bc-249e338f75f1\",\"judge\":{\"conditions\":[{\"value\":\"\\\/api\",\"operator\":\"match\",\"type\":\"URI\"}],\"type\":0},\"name\":\"api\",\"handle\":{\"continue\":true,\"log\":false}}"], context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_dao.lua:55: get_rules_of_selector():  rules of selector, typetable len=1, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_dao.lua:325: init_rules_of_selector(): monitor.selector.c298be4e-c1ff-4359-8253-3f761681c44e.rules[{"time":"2020-01-16 10:11:33","enable":true,"id":"91f62fa2-0c2d-424c-97bc-249e338f75f1","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"api","handle":{"continue":true,"log":false}}], context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_dao.lua:569: load data of plugin[monitor] success, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111ab_divide, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:172: query(): redisab_dividevalue="1", context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......ab_divideenbale, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------ab_divide_plugin keymeta, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is userdata, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_dao.lua:386: init_meta_of_plugin(): init local plugin[ab_divide] meta error, err:bad value type, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagab_divide keystagselector, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_dao.lua:566: load data of plugin[ab_divide] error, init_enable:true init_meta:false init_selectors_and_rules:true, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/07/31 15:33:46 [info] 29474#0: *5 [lua] redis_dao.lua:559: load data of plugin[kvstore] success, context: ngx.timer
2020/07/31 15:34:35 [info] 29475#0: *10 [lua] handler.lua:98: access(): [AB_Divide] ....................../a/b, client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 15:34:35 [info] 29475#0: *10 [lua] handler.lua:111: access(): [AB_Divide]  , client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 15:34:40 [info] 29475#0: *10 [lua] handler.lua:98: access(): [AB_Divide] ....................../a/b, client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 15:34:40 [info] 29475#0: *10 [lua] handler.lua:111: access(): [AB_Divide]  , client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 15:34:53 [info] 29477#0: *13 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:9090
2020/07/31 15:34:53 [info] 29475#0: *10 [lua] handler.lua:98: access(): [AB_Divide] ....................../a/b, client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 15:34:53 [info] 29475#0: *10 [lua] handler.lua:115: access(): [AB_Divide]  , client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/07/31 15:35:53 [info] 29475#0: *16 client timed out (110: Connection timed out) while waiting for request, client: 127.0.0.1, server: 0.0.0.0:9090
2020/08/03 09:53:06 [notice] 30694#0: signal process started
2020/08/03 09:53:06 [error] 30701#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/08/03 09:53:06 [info] 30701#0: *1 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/08/03 09:53:06 [error] 30702#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/08/03 09:53:06 [info] 30702#0: *3 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/08/03 09:53:06 [error] 30700#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/08/03 09:53:06 [info] 30700#0: *4 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/08/03 09:53:06 [error] 30699#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/08/03 09:53:06 [info] 30699#0: *2 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_dao.lua:417: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:239: getMHashInfo(): %%%%%%%%%%%%%%%%%%getMHashInfomonitor_plugin:value==["{\"time\":\"2020-01-16 10:11:33\",\"enable\":true,\"id\":\"91f62fa2-0c2d-424c-97bc-249e338f75f1\",\"judge\":{\"conditions\":[{\"value\":\"\\\/api\",\"operator\":\"match\",\"type\":\"URI\"}],\"type\":0},\"name\":\"api\",\"handle\":{\"continue\":true,\"log\":false}}"], context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_dao.lua:55: get_rules_of_selector():  rules of selector, typetable len=1, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_dao.lua:325: init_rules_of_selector(): monitor.selector.c298be4e-c1ff-4359-8253-3f761681c44e.rules[{"time":"2020-01-16 10:11:33","enable":true,"id":"91f62fa2-0c2d-424c-97bc-249e338f75f1","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"api","handle":{"continue":true,"log":false}}], context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_dao.lua:569: load data of plugin[monitor] success, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111ab_divide, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:172: query(): redisab_dividevalue="1", context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......ab_divideenbale, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------ab_divide_plugin keymeta, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is userdata, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_dao.lua:386: init_meta_of_plugin(): init local plugin[ab_divide] meta error, err:bad value type, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagab_divide keystagselector, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_dao.lua:566: load data of plugin[ab_divide] error, init_enable:true init_meta:false init_selectors_and_rules:true, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/08/03 09:53:07 [info] 30699#0: *5 [lua] redis_dao.lua:559: load data of plugin[kvstore] success, context: ngx.timer
2020/08/03 09:53:14 [info] 30700#0: *10 [lua] handler.lua:100: access(): [AB_Divide] ....................../a/b, client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/08/03 09:53:14 [error] 30700#0: *10 lua entry thread aborted: runtime error: ./gateway/plugins/ab_divide/handler.lua:120: attempt to index global 'gateway' (a nil value)
stack traceback:
coroutine 0:
	./gateway/plugins/ab_divide/handler.lua: in function 'access'
	./gateway/gateway.lua:181: in function 'access'
	access_by_lua(nginx.conf:96):3: in function <access_by_lua(nginx.conf:96):1>, client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/08/03 09:54:01 [notice] 30741#0: signal process started
2020/08/03 09:54:01 [error] 30746#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/08/03 09:54:01 [info] 30746#0: *1 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/08/03 09:54:01 [error] 30748#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/08/03 09:54:01 [info] 30748#0: *2 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/08/03 09:54:01 [error] 30747#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/08/03 09:54:01 [info] 30747#0: *3 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/08/03 09:54:01 [error] 30749#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/08/03 09:54:01 [info] 30749#0: *4 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_dao.lua:417: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:239: getMHashInfo(): %%%%%%%%%%%%%%%%%%getMHashInfomonitor_plugin:value==["{\"time\":\"2020-01-16 10:11:33\",\"enable\":true,\"id\":\"91f62fa2-0c2d-424c-97bc-249e338f75f1\",\"judge\":{\"conditions\":[{\"value\":\"\\\/api\",\"operator\":\"match\",\"type\":\"URI\"}],\"type\":0},\"name\":\"api\",\"handle\":{\"continue\":true,\"log\":false}}"], context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_dao.lua:55: get_rules_of_selector():  rules of selector, typetable len=1, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_dao.lua:325: init_rules_of_selector(): monitor.selector.c298be4e-c1ff-4359-8253-3f761681c44e.rules[{"time":"2020-01-16 10:11:33","enable":true,"id":"91f62fa2-0c2d-424c-97bc-249e338f75f1","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"api","handle":{"continue":true,"log":false}}], context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_dao.lua:569: load data of plugin[monitor] success, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111ab_divide, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:172: query(): redisab_dividevalue="1", context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......ab_divideenbale, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------ab_divide_plugin keymeta, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is userdata, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_dao.lua:386: init_meta_of_plugin(): init local plugin[ab_divide] meta error, err:bad value type, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagab_divide keystagselector, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_dao.lua:566: load data of plugin[ab_divide] error, init_enable:true init_meta:false init_selectors_and_rules:true, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/08/03 09:54:02 [info] 30746#0: *5 [lua] redis_dao.lua:559: load data of plugin[kvstore] success, context: ngx.timer
2020/08/03 09:54:04 [info] 30749#0: *10 [lua] handler.lua:100: access(): [AB_Divide] ....................../a/b, client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/08/03 09:54:04 [info] 30749#0: *10 [lua] handler.lua:121: access(): [AB_Divide]  http://default_upstream, client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/08/03 09:54:34 [info] 30746#0: *13 client closed connection while waiting for request, client: 127.0.0.1, server: 0.0.0.0:9090
2020/08/03 09:54:34 [info] 30749#0: *10 [lua] handler.lua:100: access(): [AB_Divide] ....................../a/b, client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/08/03 09:54:34 [info] 30749#0: *10 [lua] handler.lua:113: access(): [AB_Divide]  , client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/08/03 09:54:34 [info] 30749#0: *10 [lua] handler.lua:115: access(): [AB_Divide]  http://a_upstream, client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/08/03 09:55:13 [notice] 30815#0: signal process started
2020/08/03 09:55:13 [error] 30820#0: *1 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/08/03 09:55:13 [info] 30820#0: *1 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/08/03 09:55:13 [error] 30822#0: *2 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/08/03 09:55:13 [info] 30822#0: *2 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/08/03 09:55:13 [error] 30823#0: *3 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/08/03 09:55:13 [info] 30823#0: *3 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/08/03 09:55:13 [error] 30821#0: *4 [lua] gateway.lua:99: init_worker(): Startup init_work: , context: init_worker_by_lua*
2020/08/03 09:55:13 [info] 30821#0: *4 [lua] handler.lua:83: init_worker(): [AB_Divide]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@init ..........................................................., context: init_worker_by_lua*
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:138: init(): ddddddddddddddddddd{"serv_list":[{"ip":"127.0.0.1","port":30201},{"ip":"127.0.0.1","port":30202},{"ip":"127.0.0.1","port":30203},{"ip":"127.0.0.1","port":30204},{"ip":"127.0.0.1","port":30205},{"ip":"127.0.0.1","port":30206}],"name":"gateway-adapter"}, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111monitor, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:172: query(): redismonitorvalue="1", context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......monitorenbale, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keymeta, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is string, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagmonitor keystagselector, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_dao.lua:417: init_selectors_of_plugin(): &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& selectors: type is {"time":"2020-01-16 10:11:39","enable":true,"type":1,"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"url","handle":{"continue":true,"log":false},"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"]}, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------monitor_plugin keyselector_c298be4e-c1ff-4359-8253-3f761681c44e, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_dao.lua:28: get_selector(): selectid=selector_c298be4e-c1ff-4359-8253-3f761681c44e{"time":"2020-01-16 10:11:39","enable":true,"rules":["91f62fa2-0c2d-424c-97bc-249e338f75f1"],"id":"c298be4e-c1ff-4359-8253-3f761681c44e","judge":{"conditions":[{"value":"\/api","operator":"match","type":"URI"}],"type":0},"name":"url","handle":{"continue":true,"log":false},"type":1}, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:229: getMHashInfo(): getHashByKeyTag, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:239: getMHashInfo(): %%%%%%%%%%%%%%%%%%getMHashInfomonitor_plugin:value==["{\"time\":\"2020-01-16 10:11:33\",\"enable\":true,\"id\":\"91f62fa2-0c2d-424c-97bc-249e338f75f1\",\"judge\":{\"conditions\":[{\"value\":\"\\\/api\",\"operator\":\"match\",\"type\":\"URI\"}],\"type\":0},\"name\":\"api\",\"handle\":{\"continue\":true,\"log\":false}}"], context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_dao.lua:55: get_rules_of_selector():  rules of selector, typetable len=1, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_dao.lua:325: init_rules_of_selector(): monitor.selector.c298be4e-c1ff-4359-8253-3f761681c44e.rules[{"time":"2020-01-16 10:11:33","enable":true,"id":"91f62fa2-0c2d-424c-97bc-249e338f75f1","judge":{"type":0,"conditions":[{"value":"\/api","operator":"match","type":"URI"}]},"name":"api","handle":{"continue":true,"log":false}}], context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_dao.lua:569: load data of plugin[monitor] success, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111ab_divide, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:172: query(): redisab_dividevalue="1", context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......ab_divideenbale, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:208: getHashInfo(): ---------------------------getHashInfo------------------------ab_divide_plugin keymeta, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:211: getHashInfo(): ---------------------------getHashInforedis------------------------, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_dao.lua:380: init_meta_of_plugin(): find meta: type is userdata, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_dao.lua:386: init_meta_of_plugin(): init local plugin[ab_divide] meta error, err:bad value type, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:252: getHashByKeyTag(): %%%%%%%%%%%%%%%%%%getHashByKeyTagab_divide keystagselector, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_dao.lua:409: init_selectors_of_plugin(): find selectors: type is table, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_dao.lua:566: load data of plugin[ab_divide] error, init_enable:true init_meta:false init_selectors_and_rules:true, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:126: getRedis(): redis  connection  ok, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:166: query(): redis  11111111111111111111kvstore, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_store.lua:172: query(): rediskvstorevalue=null, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_dao.lua:340: init_enable_of_plugin(): ......kvstoreenbale, context: ngx.timer
2020/08/03 09:55:14 [info] 30820#0: *5 [lua] redis_dao.lua:559: load data of plugin[kvstore] success, context: ngx.timer
2020/08/03 09:55:17 [info] 30823#0: *10 [lua] handler.lua:100: access(): [AB_Divide] ....................../a/b, client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/08/03 09:55:17 [info] 30823#0: *10 [lua] handler.lua:115: access(): [AB_Divide]  http://a_upstream, client: 127.0.0.1, server: , request: "GET /a/b HTTP/1.1", host: "127.0.0.1:9090"
2020/08/03 09:56:17 [info] 30821#0: *13 client timed out (110: Connection timed out) while waiting for request, client: 127.0.0.1, server: 0.0.0.0:9090
